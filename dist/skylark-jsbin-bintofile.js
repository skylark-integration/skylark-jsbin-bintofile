/**
 * skylark-jsbin-bintofile - A version of jsbin-bintofile playground) that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-jsbin-bintofile/
 * @license MIT
 */
!function(r,e){var t=e.define,require=e.require,n="function"==typeof t&&t.amd,i=!n&&"undefined"!=typeof exports;if(!n&&!t){var s={};t=e.define=function(r,e,t){"function"==typeof t?(s[r]={factory:t,deps:e.map(function(e){return function(r,e){if("."!==r[0])return r;var t=e.split("/"),n=r.split("/");t.pop();for(var i=0;i<n.length;i++)"."!=n[i]&&(".."==n[i]?t.pop():t.push(n[i]));return t.join("/")}(e,r)}),resolved:!1,exports:null},require(r)):s[r]={factory:null,resolved:!0,exports:t}},require=e.require=function(r){if(!s.hasOwnProperty(r))throw new Error("Module "+r+" has not been defined");var module=s[r];if(!module.resolved){var t=[];module.deps.forEach(function(r){t.push(require(r))}),module.exports=module.factory.apply(e,t)||null,module.resolved=!0}return module.exports}}if(!t)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(r,require){r("skylark-jsbin-bintofile/bintofile",["skylark-langx/skylark"],function(r){"use strict";var e=new RegExp(/^<!doctype[^>]*>\n?/im);function t(r,e,t){if(-1===r.toLowerCase().indexOf(e.toLowerCase()))return null;var n=r.substring(0,r.toLowerCase().lastIndexOf(e.toLowerCase())),i=r.substring(r.toLowerCase().lastIndexOf(e.toLowerCase())),s="";return n&&i&&(s=n+t+i),s}function n(r){return r.replace(/<\/script>/gi,"<\\/script>").replace(/<!--/g,"<\\!--")}return r.attach("intg.jsbin.bintofile",function(r,i){if(!r)return console.error("binToFile requires bin object",(new Error).stack),"<!DOCTYPE html>";i||(i={});var s=void 0!==i.proto?i.proto:"http:";s&&":"!==s.slice(-1)&&(s+=":");var o="",a=(r.html||"").replace(/(\r\n)/g,"\n"),l=r.source,c=n(r.css||""),f=n(r.javascript||""),u=r.processors||{},p=r.meta||(r.url?"\x3c!-- source: http://jsbin.com/"+r.url+"/"+(r.revision||"")+" --\x3e\n":"");a=a.replace(/(src|href)=('|")\/\//g,"$1=$2"+s+"//"),p&&"\n"!==p.slice(-1)&&(p+="\n");if(o=a,c)if(-1!==o.indexOf("%css%"))o=o.split("%css%").join(r.css);else{var d=t(o,"</head>",c='<style id="jsbin-css">\n'+c+"\n</style>\n");if(d)o=d;else{var v=t(o,"</title>",c);o=v||c+o}}var h=(a.trim().split("\n").shift().trim().match(e)||[])[0]||"";o=h?o.replace(e,h+"\n"+p):p+o;if(f)if(-1!==o.indexOf("%code%"))o=o.split("%code%").join(f);else{var b=t(o,"</body>",(f='<script id="jsbin-javascript">\n'+f+"\n<\/script>")+"\n");o=b||o+"\n"+f}if(l){l.css===c&&delete l.css,l.javascript===f&&delete l.javascript,l.html===a&&delete l.html;var y=["html","css","javascript"].map(function(r){if(void 0===l[r])return"";var e=n(l[r]);return e?'\n<script id="jsbin-source-'+r+'" type="text/'+(u[r]||r)+'">'+e+"<\/script>":void 0}).join("\n"),j=t(o,"</body>",y);j?o=j:o+=y}var k=function(r){var e=0,t=0,n=0;if(0===r.length)return e;for(;t<r.length;t++){var n=r.charCodeAt(t);e=(e<<5)-e+n,e&=e}return e.toString(16)}(o);return o=o.split("^^hash^^").join(k)})}),r("skylark-jsbin-bintofile/main",["./bintofile"],function(r){return r}),r("skylark-jsbin-bintofile",["skylark-jsbin-bintofile/main"],function(r){return r})}(t),!n){var o=require("skylark-langx-ns");i?module.exports=o:e.skylarkjs=o}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-jsbin-bintofile.js.map
